---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import ProjectCard from '../components/ProjectCard.astro';
import PublicationItem from '../components/PublicationItem.astro';
import { projects } from '../data/projects';
import { publications } from '../data/publications';

// Define structured data objects for SEO
const person = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  name: 'Gary Zavaleta',
  jobTitle: 'Analytics & Artificial Intelligence',
  affiliation: {
    '@type': 'Organization',
    name: 'Global Hotel Alliance',
    address: {
      '@type': 'PostalAddress',
      addressLocality: 'Dubai',
      addressCountry: 'United Arab Emirates'
    }
  },
  url: 'https://garyzava.github.io/',
  sameAs: [
    'https://github.com/garyzava',
    'https://www.linkedin.com/in/garyzava/',
    'https://x.com/garyzava'
  ]
};

const softwareSchemas = projects.map((p) => ({
  '@context': 'https://schema.org',
  '@type': 'SoftwareSourceCode',
  name: p.title,
  codeRepository: p.repo,
  url: p.repo,
  description: p.description,
  programmingLanguage: 'Python',
  keywords: p.tags.join(', ')
}));

const articleSchemas = publications.map((pub) => ({
  '@context': 'https://schema.org',
  '@type': 'Article',
  headline: pub.title,
  author: {
    '@type': 'Person',
    name: 'Gary Zavaleta'
  },
  datePublished: pub.date,
  url: pub.url || undefined,
  description: pub.summary
}));
---
<Layout title="Home" description="Personal website for Gary Zavaleta – Sr Director of Analytics & Data Science at Global Hotel Alliance.">
  <!-- JSON‑LD structured data -->
  <script type="application/ld+json">
    {JSON.stringify([person, ...softwareSchemas, ...articleSchemas])}
  </script>
  <!-- Hero section -->
  <Hero />
  <!-- About section -->
  <section id="about" class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4">About</h2>
    <p class="text-base sm:text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
      I lead analytics and AI initiatives across more than forty hospitality brands and eight hundred properties for the Global Hotel Alliance in Dubai.  My mission is to transform data into insight and impact: shipping ML and GenAI products from personalisation engines and chatbots to anomaly detection systems.  I enable over five thousand colleagues with self‑service business intelligence, champion modern data platforms and speak frequently on NLP, text‑to‑SQL retrieval, evaluation frameworks and data platform modernisation.
    </p>
  </section>
  <!-- Projects section -->
  <section id="projects" class="bg-gray-50 dark:bg-gray-800 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8">Featured Projects</h2>
      <div class="grid gap-8 sm:grid-cols-2">
        {projects.map((project) => (
          <ProjectCard project={project} />
        ))}
      </div>
    </div>
  </section>
  <!-- Publications section -->
  <section id="publications" class="py-16">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">Publications</h2>
      <ul class="divide-y divide-gray-200 dark:divide-gray-700">
        {publications.map((publication) => (
          <PublicationItem publication={publication} />
        ))}
      </ul>
    </div>
  </section>
  <!-- Contact section -->
  <section id="contact" class="bg-gray-50 dark:bg-gray-800 py-16">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4">Get in Touch</h2>
      <p class="text-base sm:text-lg text-gray-700 dark:text-gray-300 mb-6">
        I am always interested in collaborating on exciting analytics and AI projects, speaking at events or mentoring.  Feel free to reach out via email or connect through social media.
      </p>
      <div class="flex justify-center space-x-6">
        <a href="mailto:gary@gyza.org" class="inline-flex items-center px-6 py-3 border border-indigo-600 text-base font-medium rounded-md text-indigo-600 bg-transparent hover:bg-indigo-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Send Email
        </a>
        <a href="https://www.linkedin.com/in/garyzava/" target="_blank" rel="noopener" class="inline-flex items-center px-6 py-3 border border-gray-600 dark:border-gray-400 text-base font-medium rounded-md text-gray-600 dark:text-gray-300 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Connect on LinkedIn
        </a>
      </div>
    </div>
  </section>
</Layout>